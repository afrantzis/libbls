import Options

lib = bld(
		features     = ['cc', 'cshlib'],
		source       = bld.path.ant_glob('*.c'),
		target       = 'bls-%s' % bld.env.LIBBLS_VERSION_NO_PATCH,
		vnum         = bld.env.LIBBLS_VERSION,
		export_incdirs = '.'
		)

bld.install_files('${PREFIX}/include/bls-${LIBBLS_VERSION_NO_PATCH}/bls',
		['buffer.h','buffer_source.h','buffer_options.h', 'buffer_event.h'])

# Only create a variant with public symbols if we need the python bindings
if 'python' in bld.env.bindings:
	lib_public = lib.clone('visibility-public')
